/*!
 * Masonry PACKAGED v4.0.0
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
define(function(d,c,b){var e=d("jquery");(function(g,f){g.jQueryBridget=f(g,g.jQuery)}(window,function a(h,k){var j=Array.prototype.slice;var f=h.console;var g=typeof f=="undefined"?function(){}:function(m){f.error(m)};function l(o,q,p){p=p||k||h.jQuery;if(!p){return}if(!q.prototype.option){q.prototype.option=function(r){if(!p.isPlainObject(r)){return}this.options=p.extend(true,this.options,r)}}p.fn[o]=function(s){if(typeof s=="string"){var r=j.call(arguments,1);return n(this,s,r)}m(this,s);return this};function n(v,r,s){var t;var u="$()."+o+'("'+r+'")';v.each(function(x,y){var w=p.data(y,o);if(!w){g(o+" not initialized. Cannot call methods, i.e. "+u);return}var A=w[r];if(!A||r.charAt(0)=="_"){g(u+" is not a valid method");return}var z=A.apply(w,s);t=t===undefined?z:t});return t!==undefined?t:v}function m(s,r){s.each(function(u,v){var t=p.data(v,o);if(t){t.option(r);t._init()}else{t=new q(v,r);p.data(v,o,t)}})}i(p)}function i(m){if(!m||(m&&m.bridget)){return}m.bridget=l}i(k||h.jQuery);return l}));(function(g,f){if(typeof define=="function"&&define.amd){define("ev-emitter/ev-emitter",f)}else{if(typeof module=="object"&&module.exports){module.exports=f()}else{g.EvEmitter=f()}}}(this,function(){function f(){}var g=f.prototype;g.on=function(h,k){if(!h||!k){return}var i=this._events=this._events||{};var j=i[h]=i[h]||[];if(j.indexOf(k)==-1){j.push(k)}return this};g.once=function(i,j){if(!i||!j){return}this.on(i,j);var h=this._onceEvents=this._onceEvents||{};var k=h[i]=h[i]||[];k[j]=true;return this};g.off=function(h,k){var j=this._events&&this._events[h];if(!j||!j.length){return}var i=j.indexOf(k);if(i!=-1){j.splice(i,1)}return this};g.emitEvent=function(h,j){var l=this._events&&this._events[h];if(!l||!l.length){return}var k=0;var n=l[k];j=j||[];var o=this._onceEvents&&this._onceEvents[h];while(n){var m=o&&o[n];if(m){this.off(h,n);delete o[n]}n.apply(this,j);k+=m?0:1;n=l[k]}return this};return f}));
/*!
 * getSize v2.0.2
 * measure size of elements
 * MIT license
 */
(function(g,f){g.getSize=f()})(window,function a(){function m(r){var q=parseFloat(r);var s=r.indexOf("%")==-1&&!isNaN(q);return s&&q}function o(){}var n=typeof console=="undefined"?o:function(q){console.error(q)};var g=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];var i=g.length;function f(){var r={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var q=0;q<i;q++){var s=g[q];r[s]=0}return r}function l(r){var q=getComputedStyle(r);if(!q){n("Style returned "+q+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1")}return q}var j=false;var h;function k(){if(j){return}j=true;var s=document.createElement("div");s.style.width="200px";s.style.padding="1px 2px 3px 4px";s.style.borderStyle="solid";s.style.borderWidth="1px 2px 3px 4px";s.style.boxSizing="border-box";var q=document.body||document.documentElement;q.appendChild(s);var r=l(s);p.isBoxSizeOuter=h=m(r.width)==200;q.removeChild(s)}function p(u){k();if(typeof u=="string"){u=document.querySelector(u)}if(!u||typeof u!="object"||!u.nodeType){return}var s=l(u);if(s.display=="none"){return f()}var G={};G.width=u.offsetWidth;G.height=u.offsetHeight;var F=G.isBorderBox=s.boxSizing=="border-box";for(var z=0;z<i;z++){var v=g[z];var E=s[v];var B=parseFloat(E);G[v]=!isNaN(B)?B:0}var A=G.paddingLeft+G.paddingRight;var r=G.paddingTop+G.paddingBottom;var D=G.marginLeft+G.marginRight;var t=G.marginTop+G.marginBottom;var q=G.borderLeftWidth+G.borderRightWidth;var C=G.borderTopWidth+G.borderBottomWidth;var y=F&&h;var x=m(s.width);if(x!==false){G.width=x+(y?0:A+q)}var w=m(s.height);if(w!==false){G.height=w+(y?0:r+C)}G.innerWidth=G.width-(A+q);G.innerHeight=G.height-(r+C);G.outerWidth=G.width+D;G.outerHeight=G.height+t;return G}return p});(function(g,f){g.matchesSelector=f()}(window,function a(){var g=(function(){var h=Element.prototype;if(h.matches){return"matches"}if(h.matchesSelector){return"matchesSelector"}var l=["webkit","moz","ms","o"];for(var j=0;j<l.length;j++){var k=l[j];var m=k+"MatchesSelector";if(h[m]){return m}}})();return function f(i,h){return i[g](h)}}));(function(g,f){g.fizzyUIUtils=f(g,g.matchesSelector)}(window,function a(i,h){var f={};f.extend=function(k,j){for(var l in j){k[l]=j[l]}return k};f.modulo=function(j,k){return((j%k)+k)%k};f.makeArray=function(l){var k=[];if(Array.isArray(l)){k=l}else{if(l&&typeof l.length=="number"){for(var j=0;j<l.length;j++){k.push(l[j])}}else{k.push(l)}}return k};f.removeFrom=function(k,l){var j=k.indexOf(l);if(j!=-1){k.splice(j,1)}};f.getParent=function(k,j){while(k!=document.body){k=k.parentNode;if(h(k,j)){return k}}};f.getQueryElement=function(j){if(typeof j=="string"){return document.querySelector(j)}return j};f.handleEvent=function(j){var k="on"+j.type;if(this[k]){this[k](j)}};f.filterFindElements=function(k,j){k=f.makeArray(k);var l=[];k.forEach(function(n){if(!(n instanceof HTMLElement)){return}if(!j){l.push(n);return}if(h(n,j)){l.push(n)}var o=n.querySelectorAll(j);for(var m=0;m<o.length;m++){l.push(o[m])}});return l};f.debounceMethod=function(m,l,j){var n=m.prototype[l];var k=l+"Timeout";m.prototype[l]=function(){var p=this[k];if(p){clearTimeout(p)}var o=arguments;var q=this;this[k]=setTimeout(function(){n.apply(q,o);delete q[k]},j||100)}};f.docReady=function(j){if(document.readyState=="complete"){j()}else{document.addEventListener("DOMContentLoaded",j)}};f.toDashed=function(j){return j.replace(/(.)([A-Z])/g,function(l,k,m){return k+"-"+m}).toLowerCase()};var g=i.console;f.htmlInit=function(j,k){f.docReady(function(){var q=f.toDashed(k);var p="data-"+q;var n=document.querySelectorAll("["+p+"]");var l=document.querySelectorAll(".js-"+q);var m=f.makeArray(n).concat(f.makeArray(l));var r=p+"-options";var o=i.jQuery;m.forEach(function(w){var t=w.getAttribute(p)||w.getAttribute(r);var v;try{v=t&&JSON.parse(t)}catch(u){if(g){g.error("Error parsing "+p+" on "+w.className+": "+u)}return}var s=new j(w,v);if(o){o.data(w,k,s)}})})};return f}));(function(g,f){g.Outlayer={};g.Outlayer.Item=f(g,g.EvEmitter,g.getSize)}(window,function a(m,g,t){function s(u){for(var v in u){return false}v=null;return true}var n=document.documentElement.style;var r=typeof n.transition=="string"?"transition":"WebkitTransition";var o=typeof n.transform=="string"?"transform":"WebkitTransform";var f={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[r];var p=[o,r,r+"Duration",r+"Property"];function h(u,v){if(!u){return}this.element=u;this.layout=v;this.position={x:0,y:0};this._create()}var j=h.prototype=Object.create(g.prototype);j.constructor=h;j._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};j.handleEvent=function(u){var v="on"+u.type;if(this[v]){this[v](u)}};j.getSize=function(){this.size=t(this.element)};j.css=function(w){var u=this.element.style;for(var x in w){var v=p[x]||x;u[v]=w[x]}};j.getPosition=function(){var A=getComputedStyle(this.element);var D=this.layout._getOption("originLeft");var C=this.layout._getOption("originTop");var z=A[D?"left":"right"];var w=A[C?"top":"bottom"];var v=this.layout.size;var u=z.indexOf("%")!=-1?(parseFloat(z)/100)*v.width:parseInt(z,10);var B=w.indexOf("%")!=-1?(parseFloat(w)/100)*v.height:parseInt(w,10);u=isNaN(u)?0:u;B=isNaN(B)?0:B;u-=D?v.paddingLeft:v.paddingRight;B-=C?v.paddingTop:v.paddingBottom;this.position.x=u;this.position.y=B};j.layoutPosition=function(){var w=this.layout.size;var v={};var G=this.layout._getOption("originLeft");var H=this.layout._getOption("originTop");var E=G?"paddingLeft":"paddingRight";var z=G?"left":"right";var A=G?"right":"left";var D=this.position.x+w[E];v[z]=this.getXValue(D);v[A]="";var B=H?"paddingTop":"paddingBottom";var F=H?"top":"bottom";var u=H?"bottom":"top";var C=this.position.y+w[B];v[F]=this.getYValue(C);v[u]="";this.css(v);this.emitEvent("layout",[this])};j.getXValue=function(u){var v=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!v?((u/this.layout.size.width)*100)+"%":u+"px"};j.getYValue=function(v){var u=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&u?((v/this.layout.size.height)*100)+"%":v+"px"};j._transitionTo=function(F,E){this.getPosition();var v=this.position.x;var u=this.position.y;var D=parseInt(F,10);var C=parseInt(E,10);var B=D===this.position.x&&C===this.position.y;this.setPosition(F,E);if(B&&!this.isTransitioning){this.layoutPosition();return}var A=F-v;var z=E-u;var w={};w.transform=this.getTranslate(A,z);this.transition({to:w,onTransitionEnd:{transform:this.layoutPosition},isCleaning:true})};j.getTranslate=function(u,z){var w=this.layout._getOption("originLeft");var v=this.layout._getOption("originTop");u=w?u:-u;z=v?z:-z;return"translate3d("+u+"px, "+z+"px, 0)"};j.goTo=function(u,v){this.setPosition(u,v);this.layoutPosition()};j.moveTo=j._transitionTo;j.setPosition=function(u,v){this.position.x=parseInt(u,10);this.position.y=parseInt(v,10)};j._nonTransition=function(u){this.css(u.to);if(u.isCleaning){this._removeStyles(u.to)}for(var v in u.onTransitionEnd){u.onTransitionEnd[v].call(this)}};j._transition=function(u){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(u);return}var w=this._transn;for(var x in u.onTransitionEnd){w.onEnd[x]=u.onTransitionEnd[x]}for(x in u.to){w.ingProperties[x]=true;if(u.isCleaning){w.clean[x]=true}}if(u.from){this.css(u.from);var v=this.element.offsetHeight;v=null}this.enableTransition(u.to);this.css(u.to);this.isTransitioning=true};function l(u){return u.replace(/([A-Z])/g,function(v){return"-"+v.toLowerCase()})}var q="opacity,"+l(p.transform||"transform");j.enableTransition=function(){if(this.isTransitioning){return}this.css({transitionProperty:q,transitionDuration:this.layout.options.transitionDuration});this.element.addEventListener(f,this,false)};j.transition=h.prototype[r?"_transition":"_nonTransition"];j.onwebkitTransitionEnd=function(u){this.ontransitionend(u)};j.onotransitionend=function(u){this.ontransitionend(u)};var i={"-webkit-transform":"transform"};j.ontransitionend=function(x){if(x.target!==this.element){return}var w=this._transn;var u=i[x.propertyName]||x.propertyName;delete w.ingProperties[u];if(s(w.ingProperties)){this.disableTransition()}if(u in w.clean){this.element.style[x.propertyName]="";delete w.clean[u]}if(u in w.onEnd){var v=w.onEnd[u];v.call(this);delete w.onEnd[u]}this.emitEvent("transitionEnd",[this])};j.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(f,this,false);this.isTransitioning=false};j._removeStyles=function(v){var u={};for(var w in v){u[w]=""}this.css(u)};var k={transitionProperty:"",transitionDuration:""};j.removeTransitionStyles=function(){this.css(k)};j.removeElem=function(){this.element.parentNode.removeChild(this.element);this.css({display:""});this.emitEvent("remove",[this])};j.remove=function(){if(!r||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem()});this.hide()};j.reveal=function(){delete this.isHidden;this.css({display:""});var v=this.layout.options;var w={};var u=this.getHideRevealTransitionEndProperty("visibleStyle");w[u]=this.onRevealTransitionEnd;this.transition({from:v.hiddenStyle,to:v.visibleStyle,isCleaning:true,onTransitionEnd:w})};j.onRevealTransitionEnd=function(){if(!this.isHidden){this.emitEvent("reveal")}};j.getHideRevealTransitionEndProperty=function(v){var u=this.layout.options[v];if(u.opacity){return"opacity"}for(var w in u){return w}};j.hide=function(){this.isHidden=true;this.css({display:""});var v=this.layout.options;var w={};var u=this.getHideRevealTransitionEndProperty("hiddenStyle");w[u]=this.onHideTransitionEnd;this.transition({from:v.visibleStyle,to:v.hiddenStyle,isCleaning:true,onTransitionEnd:w})};j.onHideTransitionEnd=function(){if(this.isHidden){this.css({display:"none"});this.emitEvent("hide")}};j.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})};return h}));
/*!
 * Outlayer v2.0.0
 * the brains and guts of a layout library
 * MIT license
 */
(function(g,f){g.Outlayer=f(g,g.EvEmitter,g.getSize,g.fizzyUIUtils,g.Outlayer.Item)}(window,function a(n,g,q,o,i){var j=n.console;var r=n.jQuery;var p=function(){};var m=0;var f={};function l(v,t){var s=o.getQueryElement(v);if(!s){if(j){j.error("Bad element for "+this.constructor.namespace+": "+(s||v))}return}this.element=s;if(r){this.$element=r(this.element)}this.options=o.extend({},this.constructor.defaults);this.option(t);var w=++m;this.element.outlayerGUID=w;f[w]=this;this._create();var u=this._getOption("initLayout");if(u){this.layout()}}l.namespace="outlayer";l.Item=i;l.defaults={containerStyle:{position:"relative"},initLayout:true,originLeft:true,originTop:true,resize:true,resizeContainer:true,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var k=l.prototype;o.extend(k,g.prototype);k.option=function(s){o.extend(this.options,s)};k._getOption=function(t){var s=this.constructor.compatOptions[t];return s&&this.options[s]!==undefined?this.options[s]:this.options[t]};l.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"};k._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);o.extend(this.element.style,this.options.containerStyle);var s=this._getOption("resize");if(s){this.bindResize()}};k.reloadItems=function(){this.items=this._itemize(this.element.children)};k._itemize=function(t){var w=this._filterFindItemElements(t);var u=this.constructor.Item;var s=[];for(var v=0;v<w.length;v++){var y=w[v];var x=new u(y,this);s.push(x)}return s};k._filterFindItemElements=function(s){return o.filterFindElements(s,this.options.itemSelector)};k.getItemElements=function(){return this.items.map(function(s){return s.element})};k.layout=function(){this._resetLayout();this._manageStamps();var s=this._getOption("layoutInstant");var t=s!==undefined?s:!this._isLayoutInited;this.layoutItems(this.items,t);this._isLayoutInited=true};k._init=k.layout;k._resetLayout=function(){this.getSize()};k.getSize=function(){this.size=q(this.element)};k._getMeasurement=function(u,s){var t=this.options[u];var v;if(!t){this[u]=0}else{if(typeof t=="string"){v=this.element.querySelector(t)}else{if(t instanceof HTMLElement){v=t}}this[u]=v?q(v)[s]:t}};k.layoutItems=function(s,t){s=this._getItemsForLayout(s);this._layoutItems(s,t);this._postLayout()};k._getItemsForLayout=function(s){return s.filter(function(t){return !t.isIgnored})};k._layoutItems=function(t,u){this._emitCompleteOnItems("layout",t);if(!t||!t.length){return}var s=[];t.forEach(function(w){var v=this._getItemLayoutPosition(w);v.item=w;v.isInstant=u||w.isLayoutInstant;s.push(v)},this);this._processLayoutQueue(s)};k._getItemLayoutPosition=function(){return{x:0,y:0}};k._processLayoutQueue=function(s){s.forEach(function(t){this._positionItem(t.item,t.x,t.y,t.isInstant)},this)};k._positionItem=function(t,s,v,u){if(u){t.goTo(s,v)}else{t.moveTo(s,v)}};k._postLayout=function(){this.resizeContainer()};k.resizeContainer=function(){var t=this._getOption("resizeContainer");if(!t){return}var s=this._getContainerSize();if(s){this._setContainerMeasure(s.width,true);this._setContainerMeasure(s.height,false)}};k._getContainerSize=p;k._setContainerMeasure=function(s,t){if(s===undefined){return}var u=this.size;if(u.isBorderBox){s+=t?u.paddingLeft+u.paddingRight+u.borderLeftWidth+u.borderRightWidth:u.paddingBottom+u.paddingTop+u.borderTopWidth+u.borderBottomWidth}s=Math.max(s,0);this.element.style[t?"width":"height"]=s+"px"};k._emitCompleteOnItems=function(t,s){var y=this;function x(){y.dispatchEvent(t+"Complete",null,[s])}var w=s.length;if(!s||!w){x();return}var u=0;function v(){u++;if(u==w){x()}}s.forEach(function(z){z.once(t,v)})};k.dispatchEvent=function(v,w,t){var u=w?[w].concat(t):t;this.emitEvent(v,u);if(r){this.$element=this.$element||r(this.element);if(w){var s=r.Event(w);s.type=v;this.$element.trigger(s,t)}else{this.$element.trigger(v,t)}}};k.ignore=function(t){var s=this.getItem(t);if(s){s.isIgnored=true}};k.unignore=function(t){var s=this.getItem(t);if(s){delete s.isIgnored}};k.stamp=function(s){s=this._find(s);if(!s){return}this.stamps=this.stamps.concat(s);s.forEach(this.ignore,this)};k.unstamp=function(s){s=this._find(s);if(!s){return}s.forEach(function(t){o.removeFrom(this.stamps,t);this.unignore(t)},this)};k._find=function(s){if(!s){return}if(typeof s=="string"){s=this.element.querySelectorAll(s)}s=o.makeArray(s);return s};k._manageStamps=function(){if(!this.stamps||!this.stamps.length){return}this._getBoundingRect();this.stamps.forEach(this._manageStamp,this)};k._getBoundingRect=function(){var s=this.element.getBoundingClientRect();var t=this.size;this._boundingRect={left:s.left+t.paddingLeft+t.borderLeftWidth,top:s.top+t.paddingTop+t.borderTopWidth,right:s.right-(t.paddingRight+t.borderRightWidth),bottom:s.bottom-(t.paddingBottom+t.borderBottomWidth)}};k._manageStamp=p;k._getElementOffset=function(v){var s=v.getBoundingClientRect();var u=this._boundingRect;var t=q(v);var w={left:s.left-u.left-t.marginLeft,top:s.top-u.top-t.marginTop,right:u.right-s.right-t.marginRight,bottom:u.bottom-s.bottom-t.marginBottom};return w};k.handleEvent=o.handleEvent;k.bindResize=function(){n.addEventListener("resize",this);this.isResizeBound=true};k.unbindResize=function(){n.removeEventListener("resize",this);this.isResizeBound=false};k.onresize=function(){this.resize()};o.debounceMethod(l,"onresize",100);k.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout()){return}this.layout()};k.needsResizeLayout=function(){var t=q(this.element);var s=this.size&&t;return s&&t.innerWidth!==this.size.innerWidth};k.addItems=function(t){var s=this._itemize(t);if(s.length){this.items=this.items.concat(s)}return s};k.appended=function(t){var s=this.addItems(t);if(!s.length){return}this.layoutItems(s,true);this.reveal(s)};k.prepended=function(t){var s=this._itemize(t);if(!s.length){return}var u=this.items.slice(0);this.items=s.concat(u);this._resetLayout();this._manageStamps();this.layoutItems(s,true);this.reveal(s);this.layoutItems(u)};k.reveal=function(s){this._emitCompleteOnItems("reveal",s);if(!s||!s.length){return}s.forEach(function(t){t.reveal()})};k.hide=function(s){this._emitCompleteOnItems("hide",s);if(!s||!s.length){return}s.forEach(function(t){t.hide()})};k.revealItemElements=function(t){var s=this.getItems(t);this.reveal(s)};k.hideItemElements=function(t){var s=this.getItems(t);this.hide(s)};k.getItem=function(u){for(var s=0;s<this.items.length;s++){var t=this.items[s];if(t.element==u){return t}}};k.getItems=function(t){t=o.makeArray(t);var s=[];t.forEach(function(v){var u=this.getItem(v);if(u){s.push(u)}},this);return s};k.remove=function(s){var t=this.getItems(s);this._emitCompleteOnItems("remove",t);if(!t||!t.length){return}t.forEach(function(u){u.remove();o.removeFrom(this.items,u)},this)};k.destroy=function(){var s=this.element.style;s.height="";s.position="";s.width="";this.items.forEach(function(u){u.destroy()});this.unbindResize();var t=this.element.outlayerGUID;delete f[t];delete this.element.outlayerGUID;if(r){r.removeData(this.element,this.constructor.namespace)}};l.data=function(s){s=o.getQueryElement(s);var t=s&&s.outlayerGUID;return t&&f[t]};l.create=function(u,s){var t=h(l);t.defaults=o.extend({},l.defaults);o.extend(t.defaults,s);t.compatOptions=o.extend({},l.compatOptions);t.namespace=u;t.data=l.data;t.Item=h(i);o.htmlInit(t,u);if(r&&r.bridget){r.bridget(u,t)}return t};function h(s){function t(){s.apply(this,arguments)}t.prototype=Object.create(s.prototype);t.prototype.constructor=t;return t}l.Item=i;return l}));
/*!
 * Masonry v4.0.0
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
(function(g,f){g.Masonry=f(g.Outlayer,g.getSize)}(window,function a(g,h){var f=g.create("masonry");f.compatOptions.fitWidth="isFitWidth";f.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();this.colYs=[];for(var j=0;j<this.cols;j++){this.colYs.push(0)}this.maxY=0};f.prototype.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var o=this.items[0];var k=o&&o.element;this.columnWidth=k&&h(k).outerWidth||this.containerWidth}var m=this.columnWidth+=this.gutter;var l=this.containerWidth+this.gutter;var n=l/m;var i=m-l%m;var j=i&&i<1?"round":"floor";n=Math[j](n);this.cols=Math.max(n,1)};f.prototype.getContainerWidth=function(){var k=this._getOption("fitWidth");var i=k?this.element.parentNode:this.element;var j=h(i);this.containerWidth=j&&j.innerWidth};f.prototype._getItemLayoutPosition=function(t){t.getSize();var s=t.size.outerWidth%this.columnWidth;var o=s&&s<1?"round":"ceil";var p=Math[o](t.size.outerWidth/this.columnWidth);p=Math.min(p,this.cols);var j=this._getColGroup(p);var k=Math.min.apply(Math,j);var q=j.indexOf(k);var n={x:this.columnWidth*q,y:k};var r=k+t.size.outerHeight;var l=this.cols+1-j.length;for(var m=0;m<l;m++){this.colYs[q+m]=r}return n};f.prototype._getColGroup=function(l){if(l<2){return this.colYs}var m=[];var n=this.cols+1-l;for(var j=0;j<n;j++){var k=this.colYs.slice(j,j+l);m[j]=Math.max.apply(Math,k)}return m};f.prototype._manageStamp=function(j){var p=h(j);var n=this._getElementOffset(j);var t=this._getOption("originLeft");var m=t?n.left:n.right;var k=m+p.outerWidth;var r=Math.floor(m/this.columnWidth);r=Math.max(0,r);var l=Math.floor(k/this.columnWidth);l-=k%this.columnWidth?0:1;l=Math.min(this.cols-1,l);var s=this._getOption("originTop");var q=(s?n.top:n.bottom)+p.outerHeight;for(var o=r;o<=l;o++){this.colYs[o]=Math.max(q,this.colYs[o])}};f.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var i={height:this.maxY};if(this._getOption("fitWidth")){i.width=this._getContainerFitWidth()}return i};f.prototype._getContainerFitWidth=function(){var k=0;var j=this.cols;while(--j){if(this.colYs[j]!==0){break}k++}return(this.cols-k)*this.columnWidth-this.gutter};f.prototype.needsResizeLayout=function(){var i=this.containerWidth;this.getContainerWidth();return i!=this.containerWidth};return f}))});
;

;
