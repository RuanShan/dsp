define(function(require, exports, moudles) {
    var jQuery = require("jquery");
    (function(f) {
     jQuery.fn.extend({slimScroll:function(n){var i=f.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},n);return this.each(function(){function v(n){if(y){n=n||window.event;var t=0;n.wheelDelta&&(t=-n.wheelDelta/120);n.detail&&(t=n.detail/3);f(n.target||n.srcTarget||n.srcElement).closest("."+i.wrapperClass).is(r.parent())&&s(t,!0);n.preventDefault&&!o&&n.preventDefault();o||(n.returnValue=!1)}}function s(n,t,f){o=!1;var s=n,h=r.outerHeight()-u.outerHeight();t&&(s=parseInt(u.css("top"))+n*parseInt(i.wheelStep)/100*u.outerHeight(),s=Math.min(Math.max(s,0),h),s=0<n?Math.ceil(s):Math.floor(s),u.css({top:s+"px"}));e=parseInt(u.css("top"))/(r.outerHeight()-u.outerHeight());s=e*(r[0].scrollHeight-r.outerHeight());f&&(s=n,n=s/r[0].scrollHeight*r.outerHeight(),n=Math.min(Math.max(n,0),h),u.css({top:n+"px"}));r.scrollTop(s);r.trigger("slimscrolling",~~s);b();c()}function it(){window.addEventListener?(this.addEventListener("DOMMouseScroll",v,!1),this.addEventListener("mousewheel",v,!1),this.addEventListener("MozMousePixelScroll",v,!1)):document.attachEvent("onmousewheel",v)}function w(){p=Math.max(r.outerHeight()/r[0].scrollHeight*r.outerHeight(),rt);u.css({height:p+"px"});var n=p==r.outerHeight()?"none":"block";u.css({display:n})}function b(){w();clearTimeout(nt);e==~~e?(o=i.allowPageScroll,tt!=e&&r.trigger("slimscroll",0==~~e?"top":"bottom")):o=!1;tt=e;p>=r.outerHeight()?o=!0:(u.stop(!0,!0).fadeIn("fast"),i.railVisible&&h.stop(!0,!0).fadeIn("fast"))}function c(){i.alwaysVisible||(nt=setTimeout(function(){i.disableFadeOut&&y||k||d||(u.fadeOut("slow"),h.fadeOut("slow"))},1e3))}var y,k,d,nt,g,p,e,tt,rt=30,o=!1,r=f(this),a;if(r.parent().hasClass(i.wrapperClass)){var l=r.scrollTop(),u=r.parent().find("."+i.barClass),h=r.parent().find("."+i.railClass);if(w(),f.isPlainObject(n)){if("height"in n&&"auto"==n.height&&(r.parent().css("height","auto"),r.css("height","auto"),a=r.parent().parent().height(),r.parent().css("height",a),r.css("height",a)),"scrollTo"in n)l=parseInt(i.scrollTo);else if("scrollBy"in n)l+=parseInt(i.scrollBy);else if("destroy"in n){u.remove();h.remove();r.unwrap();return}s(l,!1,!0)}}else{i.height="auto"==i.height?r.parent().height():i.height;l=f("<div><\/div>").addClass(i.wrapperClass).css({position:"relative",overflow:"hidden",width:i.width,height:i.height});r.css({overflow:"hidden",width:i.width,height:i.height});var h=f("<div><\/div>").addClass(i.railClass).css({width:i.size,height:"100%",position:"absolute",top:0,display:i.alwaysVisible&&i.railVisible?"block":"none","border-radius":i.railBorderRadius,background:i.railColor,opacity:i.railOpacity,zIndex:90}),u=f("<div><\/div>").addClass(i.barClass).css({background:i.color,width:i.size,position:"absolute",top:0,opacity:i.opacity,display:i.alwaysVisible?"block":"none","border-radius":i.borderRadius,BorderRadius:i.borderRadius,MozBorderRadius:i.borderRadius,WebkitBorderRadius:i.borderRadius,zIndex:99}),a="right"==i.position?{right:i.distance}:{left:i.distance};h.css(a);u.css(a);r.wrap(l);r.parent().append(u);r.parent().append(h);i.railDraggable&&u.bind("mousedown",function(n){var i=f(document);return d=!0,t=parseFloat(u.css("top")),pageY=n.pageY,i.bind("mousemove.slimscroll",function(n){currTop=t+n.pageY-pageY;u.css("top",currTop);s(0,u.position().top,!1)}),i.bind("mouseup.slimscroll",function(){d=!1;c();i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(n){return n.stopPropagation(),n.preventDefault(),!1});h.hover(function(){b()},function(){c()});u.hover(function(){k=!0},function(){k=!1});r.hover(function(){y=!0;b();c()},function(){y=!1;c()});r.bind("touchstart",function(n){n.originalEvent.touches.length&&(g=n.originalEvent.touches[0].pageY)});r.bind("touchmove",function(n){o||n.originalEvent.preventDefault();n.originalEvent.touches.length&&(s((g-n.originalEvent.touches[0].pageY)/i.touchScrollStep,!0),g=n.originalEvent.touches[0].pageY)});w();"bottom"===i.start?(u.css({top:r.outerHeight()-u.outerHeight()}),s(0,!0)):"top"!==i.start&&(s(f(i.start).position().top,null,!0),i.alwaysVisible||u.hide());it()}}),this}});jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})
    })(jQuery);

});
