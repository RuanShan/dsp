/*! weimob_vshop_admin
*author:<a.b.c@hd3p.com> */
define("dist/commission/init",["$","dist/application/app"],function(a){"use strict";{var b=a("$"),c=a("dist/application/app");c.config,c.method}b(document).on("keyup","input.js_commission_percent",function(){var a=b(this),c=a.closest("form"),d=b(".js_level_commission",c),e=a.val()-0,f=b(".js_commission_money_input",c),g=[];f.each(function(){var a=b(this);a.hasClass("error")||g.push(a.val()-0)}),g.sort(function(a,b){return a-b}),a.hasClass("error")||d.each(function(){var a=b(this),c=a.data("percent"),d=a.closest(".form-group"),f=b(".js_money_commission",d);if(a.val((e*c).toFixed(2)),1==g.length)f.html("（"+(e*c*g[0]/100).toFixed(2)+"）");else if(g.length>1){var h=(e*c*g[0]/100).toFixed(2),i=(e*c*g[g.length-1]/100).toFixed(2);f.html("（"+h+"~"+i+"）")}})}),b(document).on("keyup","input.js_commission_percents",function(){var a=b(this),c=a.closest("form"),d=b(".js_level_commissions",c),e=a.val()-0,f=b(".js_commission_money_inputs",c),g=[];f.each(function(){var a=b(this);a.hasClass("error")||g.push(a.val()-0)}),g.sort(function(a,b){return a-b}),a.hasClass("error")||d.each(function(){var a=b(this),c=a.data("percent"),d=a.closest(".form-group"),f=b(".js_money_commissions",d);if(a.val((e*c).toFixed(2)),1==g.length)f.html("（"+(e*c*g[0]/100).toFixed(2)+"）");else if(g.length>1){var h=(e*c*g[0]/100).toFixed(2),i=(e*c*g[g.length-1]/100).toFixed(2);f.html("（"+h+"~"+i+"）")}})}),b(document).on("keyup","input.js_commission_money_input",function(){var a=b(this),c=a.closest("form"),d=b(".js_level_commission",c),e=[],f=b(".js_commission_money_input",c),g=b(".js_commission_percent",c),h=g.val();f.each(function(){var a=b(this);a.hasClass("error")||e.push(a.val()-0)}),e.sort(function(a,b){return a-b}),a.hasClass("error")||d.each(function(){var a=b(this),c=a.data("percent"),d=a.closest(".form-group"),f=b(".js_money_commission",d);if(!g.hasClass("error"))if(a.val((h*c).toFixed(2)),1==e.length)f.html("（"+(h*c*e[0]/100).toFixed(2)+"）");else if(e.length>1){var i=(h*c*e[0]/100).toFixed(2),j=(h*c*e[e.length-1]/100).toFixed(2);f.html("（"+i+"~"+j+"）")}})}),b(document).on("keyup","input.js_commission_money_inputs",function(){var a=b(this),c=a.closest("form"),d=b(".js_level_commissions",c),e=[],f=b(".js_commission_money_inputs",c),g=b(".js_commission_percents",c),h=g.val();f.each(function(){var a=b(this);a.hasClass("error")||e.push(a.val()-0)}),e.sort(function(a,b){return a-b}),a.hasClass("error")||d.each(function(){var a=b(this),c=a.data("percent"),d=a.closest(".form-group"),f=b(".js_money_commissions",d);if(!g.hasClass("error"))if(a.val((h*c).toFixed(2)),1==e.length)f.html("（"+(h*c*e[0]/100).toFixed(2)+"）");else if(e.length>1){var i=(h*c*e[0]/100).toFixed(2),j=(h*c*e[e.length-1]/100).toFixed(2);f.html("（"+i+"~"+j+"）")}})}),b(document).on("change","select.js_commission_money_select",function(){var a=b(this),c=a.closest("form"),d=b(".js_level_commission",c),e=[],f=b(".js_commission_money_select",c),g=b(".js_commission_percent",c),h=g.val();f.each(function(){var a=b(this);a.hasClass("error")||e.push(a.val()-0)}),e.sort(function(a,b){return a-b}),a.hasClass("error")||d.each(function(){var a=b(this),c=a.data("percent"),d=a.closest(".form-group"),f=b(".js_money_commission",d);if(!g.hasClass("error"))if(a.val((h*c).toFixed(2)),1==e.length)f.html("（"+(h*c*e[0]/100).toFixed(2)+"）");else if(e.length>1){var i=(h*c*e[0]/100).toFixed(2),j=(h*c*e[e.length-1]/100).toFixed(2);f.html("（"+i+"~"+j+"）")}})})});