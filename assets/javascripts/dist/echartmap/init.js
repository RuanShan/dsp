/*! weimob_vshop_admin
*author:<a.b.c@hd3p.com> */
define("dist/echartmap/init",["$","echarts-all"],function(a){"use strict";function b(a){return function(b,c){var d=b[a],e=c[a];return d>e?-1:e>d?1:0}}function c(a){for(var b=[],c=0,d=a.length;d>c;c++)1>c?b.push({name:a[c].name,value:a[c].value,rank:c}):b[c-1]&&b.push(b[c-1].value==a[c].value?{name:a[c].name,value:a[c].value,rank:b[c-1].rank}:{name:a[c].name,value:a[c].value,rank:c});return b}var d=a("$");return a("echarts-all"),{maps:function(a,e,f){var g=echarts.init(document.getElementById(a)),h=[];d(e.data).each(function(){h.push(this.name);var a=this;a.sum=0,a.sortarr=[],a.rankarr=[],a.sortarr=this.data.sort(b("value")),a.rankArr=c(a.sortarr),a.type="map",a.mapType="china",a.mapLocation={x:"0px"},a.itemStyle={normal:{label:{show:!0}},emphasis:{label:{show:!0}}},d(this.data).each(function(b){a.sum+=this.value,this.rank=a.rankArr[b].rank+1})}),d(e.data).each(function(){var a=this;d(this.data).each(function(){var b=isNaN((this.value/a.sum*100).toFixed(2))?0:(this.value/a.sum*100).toFixed(2);this.percent=b})});var i={title:{text:"",subtext:"",x:""},tooltip:{trigger:"item"},legend:{orient:"vertical",x:"left",data:h},dataRange:{min:e.min,max:e.max,x:"right",y:"80px",text:["高","低"],calculable:!0},toolbox:{show:!0,orient:"vertical",x:"right",y:"top",feature:{saveAsImage:{show:!0}}},roamController:{show:!0,x:"right",mapTypeControl:{china:!0}},series:e.data};i=d.extend(!0,i,f),g.setOption(i)}}});