/*! weimob_vshop_admin
*author:<a.b.c@hd3p.com> */
define("dist/distribution/init",["$","dist/application/app","./shoper","./spread","dist/charts/init","sparkline"],function(a){"use strict";var b=a("$"),c=a("dist/application/app"),d=(c.config,c.method);a("./shoper"),a("./spread"),b(document).on("change","#shoperid",function(){var a=b(this).attr("data-path"),c={name:b(this).val()};d.postd(a,function(a){0==a.status?(b("#shoperInfo").html("没有这个V店主"),b("#subBtn").prop("disabled",!0)):(b("#shoperInfo").html(template("shoperCont",a)),b("#subBtn").prop("disabled",!1))},c)}),b(document).on("click","#subBtn",function(){var a=b(this).attr("data-path"),c={sort:b("#sort").val()};d.postd(a,function(a){0==a.status?confirm("输入的展示序号有重复，是否覆盖现有排序？")&&b("#recom").submit():b("#recom").submit()},c)}),b("input[name=gift]").click(function(){b(".gift input[type=text]").prop("disabled",!0),b(this).parents(".gift").find("input[type=text]").prop("disabled",!1)}),b("input[name=new]").click(function(){b(".new input[type=text]").prop("disabled",!0),b(this).parents(".new").find("input[type=text]").prop("disabled",!1)})}),define("dist/distribution/shoper",["$","dist/application/app"],function(a){"use strict";{var b=a("$"),c=a("dist/application/app");c.config,c.method}b(document).on("change","#conut-var",function(){var a=1*b(this).val(),c=1*b("#count-now").text(),d=a+c;0>d&&(d=0),b("#count-all").text(d)}),b(document).on("click","#isCheck",function(){b(".condition").attr("checked")?(b("#offattest").removeClass("hidden"),b("#offattest").show(),b("#onattest").hide()):(b("#offattest").hide(),b("#onattest").show(),b(".error").removeClass("error"),b(".help-block").hide())})}),define("dist/distribution/spread",["$","dist/application/app","dist/charts/init","sparkline"],function(a){"use strict";var b=a("$"),c=a("dist/application/app"),d=(c.config,c.method),e=a("dist/charts/init");a("sparkline");var f,g=b("#js_turnover"),h=b(".js_search_data").val();f=7==h?864e5:30==h?null:null,g.length&&function(){var a=g.data("path");a&&d.get(a,function(a){e.line("js_turnover",a,{yAxis:{title:{text:""}},xAxis:{tickInterval:f}})})}(),b(document).on("click",".js_interact_echarts",function(){var a=b(this),c=a.data("path");b(".js_interact_echarts.active").removeClass("active"),a.addClass("active"),c&&d.get(c,function(a){e.line("js_turnover",a,{yAxis:{title:{text:""}},xAxis:{tickInterval:f}})})})});